-- Rayfield UI yükleme
local Rayfield = loadstring(game:HttpGet('https://sirius.menu/rayfield'))()

-- Pencere oluşturma
local Window = Rayfield:CreateWindow({
   Name = "Lovely-Hub",
   LoadingTitle = "Rayfield UI",
   LoadingSubtitle = "by Lovely",
   ConfigurationSaving = {
      Enabled = false
   }
})

-- Tab oluşturma
local Tab = Window:CreateTab("Zaman", 4483362458)

-- Slider ile saat ayarlama
Tab:CreateSlider({
   Name = "Oyun Saati",
   Range = {0, 24},
   Increment = 0.1,
   Suffix = "Saat",
   CurrentValue = game:GetService("Lighting").ClockTime,
   Flag = "TimeSlider",
   Callback = function(Value)
       game:GetService("Lighting").ClockTime = Value
   end,
})
loadstring(game:HttpGet('https://raw.githubusercontent.com/EdgeIY/infiniteyield/master/source'))()
local loopKick = loopPlayersTab:AddSection({
    Name = "Loop Kick"
})
loopkick = loopKick:AddToggle({
    Name = "Loop Kick",
    Default = false,
                playerCFrame = GetPlayerCFrame()
                local pairsIterator, pairsIterator4, playerIndex = pairs(playerList)
                while true do
                    local playerName
                    playerIndex, playerName = pairsIterator(pairsIterator4, playerIndex)
                    if playerIndex == nil then
                        break
                    end
                    local playerInstance = playersService:FindFirstChild(playerName)
                    if CheckPlayerForLoopKill(playerInstance) and ChangeActivityPriority(2) then
                        local playerHumanoidRootPart = playerInstance.Character:FindFirstChild("HumanoidRootPart")
                        local headPart2 = playerInstance.Character:FindFirstChild("Head")
                        playerInstance.Character:FindFirstChild("Humanoid")
                        if playerInstance and (playerHumanoidRootPart and headPart2) then
                            for _ = 0, 50 do
                                dialogueFunction2()
                                SNOWship(playerHumanoidRootPart)
                                if not CheckPlayerForLoopKill(playerInstance) or (not _G.LoopKickOwnership or (CheckNetworkOwnerShipOnPlayer(playerInstance) or playerHumanoidRootPart.AssemblyLinearVelocity.Magnitude > 500)) then
                                    destroyGrabLineEvent:FireServer(playerHumanoidRootPart)
                                    wait()
                                    CreateSkyVelocity(playerHumanoidRootPart)
                                    break
                                end
                                task.wait()
                                if playerHumanoidRootPart.Position.Y <= - 12 then
                                    TeleportPlayer(CFrame.new(playerHumanoidRootPart.Position + Vector3.new(0, 5, - 15)), 2)
                                else
                                    TeleportPlayer(CFrame.new(playerHumanoidRootPart.Position + Vector3.new(0, - 10, - 10)), 2)
                                end
                            end
                        end
                        ChangeActivityPriority(0)
                    end
                end
                TeleportPlayer(playerCFrame)
                task.wait(0.2)
            end
            dialogueFunction1()
            TeleportPlayer(playerCFrame)
        end
    end,
    Save = true,
    Flag = "lkick_toggle"
 })
loopKickSection:AddDropdown({
    Name = "Kick Type",
    Default = "Go to the heaven!",
    Options = {
        "Go to the heaven!"
    },
    Callback = function(loopKickOwnerType)
        _G.LoopKickType = loopKickType
    end,
    Save = true,
    Flag = "loopkicktype_dropdown"
})
TargetGroup:AddButton({
    Text = "bring",
    Func = function()
        if not selectedKickPlayer then 
            return 
        end

        local char = Player.Character
        local hum = char and char:FindFirstChild("Humanoid")
        local seat = hum and hum.SeatPart
        if not seat or seat.Parent.Name ~= "CreatureBlobman" then 
            return 
        end

        local blob = seat.Parent
        local blobRoot = blob:FindFirstChild("HumanoidRootPart")
        local scriptObj = blob:FindFirstChild("BlobmanSeatAndOwnerScript")
        if not blobRoot or not scriptObj then return end

        local CG = scriptObj:FindFirstChild("CreatureGrab")
        local CD = scriptObj:FindFirstChild("CreatureDrop")
        local R_Det = blob:FindFirstChild("RightDetector")
        local R_Weld = R_Det and R_Det:FindFirstChild("RightWeld")

        local tChar = selectedKickPlayer.Character
        local tRoot = tChar and tChar:FindFirstChild("HumanoidRootPart")
        if not tRoot then return end

        local home = blobRoot.CFrame

        blobRoot.CFrame = tRoot.CFrame
        blobRoot.Velocity = Vector3.new()
        blobRoot.RotVelocity = Vector3.new()
        task.wait(0.3)

        pcall(function()
            CG:FireServer(R_Det, tRoot, R_Weld)
        end)

        task.wait(0.5)

        blobRoot.CFrame = home
        blobRoot.Velocity = Vector3.new()
        blobRoot.RotVelocity = Vector3.new()

        task.wait(0.05)

        for i = 1, 12 do
            tRoot.CFrame = home * CFrame.new(0,3,0)
            tRoot.Velocity = Vector3.new()
            tRoot.RotVelocity = Vector3.new()
            task.wait(0.03)
        end

        for i = 1, 8 do
            local weld = R_Det:FindFirstChild("RightWeld")
            if weld then
                pcall(function()
                    CD:FireServer(weld)
                end)
            end
            task.wait(0.03)
        end
    end
})

	local antiAntiKickActive = false
TargetGroup:AddToggle("DestroyAntiKickToggle", {
		Text = "Grab Anti Kick",
		Default = false,
		Callback = function(Value)
			antiAntiKickActive = Value

			if Value then
				task.spawn(function()
					local SetNetOwner = game:GetService("ReplicatedStorage").GrabEvents.SetNetworkOwner
					local LocalPlayer = game.Players.LocalPlayer

					local function invis_touch(part, cf)
						SetNetOwner:FireServer(part, cf)
					end

					local function CheckAndYeet(toy)
						local part = toy:FindFirstChild("SoundPart")
						if part then
							invis_touch(part, part.CFrame)
							if part:FindFirstChild("PartOwner") and part.PartOwner.Value == LocalPlayer.Name then
								part.CFrame = CFrame.new(0, 1000, 0)
							end
						end
					end

					while antiAntiKickActive do
						local target = selectedKickPlayer
						if target then
							local spawned = workspace:FindFirstChild(target.Name.."SpawnedInToys")
							if spawned then
								if spawned:FindFirstChild("NinjaKunai") then
									CheckAndYeet(spawned.NinjaKunai)
								end
								if spawned:FindFirstChild("NinjaShuriken") then
									CheckAndYeet(spawned.NinjaShuriken)
								end
								if spawned:FindFirstChild("AntiKick") then
									CheckAndYeet(spawned.AntiKick)
								end
							end
						end
						task.wait(0.1)
					end
				end)
			else
				antiAntiKickActive = false
			end
		end
	})
local antiGucciConnection
	local safePosition
	local restoreFrames = 0
	local function spawnBlobman()
		local args = {[1] = "CreatureBlobman", [2] = CFrame.new(0, 5000000, 0), [3] = Vector3.new(0, 60, 0)}
		pcall(function() ReplicatedStorage.MenuToys.SpawnToyRemoteFunction:InvokeServer(unpack(args)) end)
		local folder = Workspace:WaitForChild(Player.Name.."SpawnedInToys", 5)
		if folder and folder:FindFirstChild("CreatureBlobman") then
			local blob = folder.CreatureBlobman
			if blob:FindFirstChild("Head") then blob.Head.CFrame = CFrame.new(0, 50000, 0) blob.Head.Anchored = true end
			notify("Success", "Blobman Spawned!", 3)
		end
	end
	local function startAntiGucci()
		local character = Player.Character or Player.CharacterAdded:Wait()
		local humanoid = character:WaitForChild("Humanoid")
		local rootPart = character:WaitForChild("HumanoidRootPart")
		safePosition = rootPart.Position
		local folder = Workspace:FindFirstChild(Player.Name.."SpawnedInToys")
		local blob = folder and folder:FindFirstChild("CreatureBlobman")
		local seat = blob and blob:FindFirstChild("VehicleSeat")
		if not blob then spawnBlobman() task.wait(1) folder = Workspace:FindFirstChild(Player.Name.."SpawnedInToys") blob = folder and folder:FindFirstChild("CreatureBlobman") seat = blob and blob:FindFirstChild("VehicleSeat") end
		if seat and seat:IsA("VehicleSeat") then rootPart.CFrame = seat.CFrame + Vector3.new(0, 2, 0) seat:Sit(humanoid) end
		humanoid:GetPropertyChangedSignal("Jump"):Connect(function() if humanoid.Jump and humanoid.Sit then restoreFrames = 15 safePosition = rootPart.Position end end)
		if antiGucciConnection then antiGucciConnection:Disconnect() end
		antiGucciConnection = R.Heartbeat:Connect(function()
			if not rootPart or not humanoid then return end
			ReplicatedStorage.CharacterEvents.RagdollRemote:FireServer(rootPart, 0)
			if restoreFrames > 0 then rootPart.CFrame = CFrame.new(safePosition) restoreFrames = restoreFrames - 1 end
		end)
		task.spawn(function() while humanoid.Sit do task.wait(1) end task.wait(0.5) rootPart.CFrame = CFrame.new(safePosition) end)
	end
	local function stopAntiGucci()
		if antiGucciConnection then antiGucciConnection:Disconnect() antiGucciConnection = nil end
		local blobFolder = Workspace:FindFirstChild(Player.Name.."SpawnedInToys")
		if blobFolder and blobFolder:FindFirstChild("CreatureBlobman") then blobFolder.CreatureBlobman:Destroy() end
	end

	local antiGucciConnectionTrain
	local safePositionTrain
	local restoreFramesTrain = 0
	local function startAntiGucciTrain()
		local character = Player.Character or Player.CharacterAdded:Wait()
		local humanoid = character:WaitForChild("Humanoid")
		local rootPart = character:WaitForChild("HumanoidRootPart")
		safePositionTrain = rootPart.Position
		local folder = workspace.Map.AlwaysHereTweenedObjects
		local train = folder and folder:FindFirstChild("Train")
		local seat
		if train then
	    	for _, d in ipairs(train:GetDescendants()) do
 	       	if d:IsA("Seat") then
  	      	    seat = d
  	       	   break
 	     	  end
	  	  end
		end

		if seat then rootPart.CFrame = seat.CFrame + Vector3.new(0, 2, 0) seat:Sit(humanoid) end
		humanoid:GetPropertyChangedSignal("Jump"):Connect(function() if humanoid.Jump and humanoid.Sit then restoreFramesTrain = 15 safePositionTrain = rootPart.Position end end)
		if antiGucciConnectionTrain then antiGucciConnectionTrain:Disconnect() end
		antiGucciConnectionTrain = R.Heartbeat:Connect(function()
			if not rootPart or not humanoid then return end
			ReplicatedStorage.CharacterEvents.RagdollRemote:FireServer(rootPart, 0)
			if restoreFramesTrain > 0 then rootPart.CFrame = CFrame.new(safePositionTrain) restoreFramesTrain = restoreFramesTrain - 1 end
		end)
		task.spawn(function() while humanoid.Sit do task.wait(1) end task.wait(0.5) rootPart.CFrame = CFrame.new(safePositionTrain) end)
	end
	local function stopAntiGucciTrain()
		if antiGucciConnectionTrain then antiGucciConnectionTrain:Disconnect() antiGucciConnectionTrain = nil end
		local trainFolder = workspace.Map.AlwaysHereTweenedObjects
		if trainFolder and trainFolder:FindFirstChild("Train") then ResetPlayer(game.Players.LocalPlayer) end
end

local DefenseGroup = Tabs.Defense:AddLeftGroupbox("Defense Main")
	local DefenseExtra = Tabs.Defense:AddRightGroupbox("Extra Defense")
local playerCFrame = nil
loopKillFunctionsSection:AddToggle({
    Name = "Loop Kill",
    Default = false,
    Callback = function(loopKill)
        _G.LoopKill = loopKill
        if loopKill then
            while _G.LoopKill do
                playerCFrame = GetPlayerCFrame()
                local index5, playerValue5, playerKey5 = pairs(playerList)
                while true do
                    local playerName5
                    playerKey5, playerName5 = index5(playerValue5, playerKey5)
                    if playerKey5 == nil then
                        break
                    end
                    local playerInstance3 = playersService:FindFirstChild(playerName5)
                    if CheckPlayerForLoopKill(playerInstance3) and ChangeActivityPriority(2) then
                        local humanoidRootPart = playerInstance3.Character:FindFirstChild("HumanoidRootPart")
                        local headPart = playerInstance3.Character:FindFirstChild("Head")
                        local characterHumanoid = playerInstance3.Character:FindFirstChild("Humanoid")
                        if playerInstance3 and (humanoidRootPart and headPart) then
                            for _ = 0, 50 do
                                dialogueFunction2()
                                SNOWship(humanoidRootPart)
                                if not CheckPlayerForLoopKill(playerInstance3) or (not _G.LoopKill or (CheckNetworkOwnerShipOnPlayer(playerInstance3) or humanoidRootPart.AssemblyLinearVelocity.Magnitude > 500)) then
                                    destroyGrabLineEvent:FireServer(humanoidRootPart)
                                    CreateSkyVelocity(humanoidRootPart)
                                    break
                                end
                                task.wait()
                                if humanoidRootPart.Position.Y <= - 12 then
                                    TeleportPlayer(CFrame.new(humanoidRootPart.Position + Vector3.new(0, 5, - 15)), 2)
                                else
                                    TeleportPlayer(CFrame.new(humanoidRootPart.Position + Vector3.new(0, - 10, - 10)), 2)
                                end
                                characterHumanoid.BreakJointsOnDeath = false
                                characterHumanoid:ChangeState(Enum.HumanoidStateType.Dead)
                                characterHumanoid.Jump = true
                                characterHumanoid.Sit = false
                            end
                        end
                        ChangeActivityPriority(0)
                    end
                end
                TeleportPlayer(playerCFrame)
                task.wait(0.2)
            end
            dialogueFunction1()
            TeleportPlayer(playerCFrame)
            print("End LoopKill")
                print("ts was renamed by itsjose4")
        end
    end,
    Save = true,
    Flag = "lk_toggle"
})
MiscGroup:AddToggle("PacketLagToggle", {
        Text = "Packet Lag",
        Default = false,
        Callback = function(Value)
            _G.PacketLagActive = Value

            if Value then
                task.spawn(function()
                    for i, e in pairs(game.Players:GetPlayers()) do
                        if e.Name == "MaybeFlashh" then
                            return
                        end
                    end

                    local RS = game:GetService("ReplicatedStorage")
                    local GrabEvent = RS:WaitForChild("GrabEvents"):WaitForChild("ExtendGrabLine")

                    while _G.PacketLagActive do
                        pcall(function()
                            GrabEvent:FireServer(string.rep("Balls Balls Balls Balls", PacketSpamAmount))
                        end)
                        task.wait()
                    end
                end)
            else
                _G.PacketLagActive = false
            end
        end
    })
TargetGroup:AddToggle("LoopKickToggle", {
    Text = "Loop Kick (grab + blob)",
    Default = false,
    Callback = function(on)
        kickLoopEnabled = on
        
        local target = selectedKickPlayer
        if on and not target then 
            if Toggles.LoopKickToggle then Toggles.LoopKickToggle:SetValue(false) end
            return 
        end

        local char = Player.Character
        local hum = char and char:FindFirstChild("Humanoid")
        local seat = hum and hum.SeatPart

        if on and (not seat or seat.Parent.Name ~= "CreatureBlobman") then
            if Toggles.LoopKickToggle then Toggles.LoopKickToggle:SetValue(false) end
            return
        end

        if not on then 
            kickLoopEnabled = false 
            return 
        end

        task.spawn(function()
            local RS = game:GetService("ReplicatedStorage")
            local GE = RS:WaitForChild("GrabEvents")
            local RunService = game:GetService("RunService")
            
            local blob = seat.Parent
            local blobRoot = blob:FindFirstChild("HumanoidRootPart") or blob.PrimaryPart
            local scriptObj = blob:FindFirstChild("BlobmanSeatAndOwnerScript")
            
            local CG = scriptObj and scriptObj:FindFirstChild("CreatureGrab")
            local CD = scriptObj and scriptObj:FindFirstChild("CreatureDrop")
            
            local R_Det = blob:FindFirstChild("RightDetector")
            local R_Weld = R_Det and (R_Det:FindFirstChild("RightWeld") or R_Det:FindFirstChildWhichIsA("Weld"))
            
            local SavedPos = blobRoot.CFrame 
            
            local tChar = target.Character
            local tRoot = tChar and tChar:FindFirstChild("HumanoidRootPart")

            if tRoot and blobRoot then
                local bringStart = tick()
                while tick() - bringStart < 0.35 do
                    if not kickLoopEnabled then break end
                    
                    blobRoot.CFrame = tRoot.CFrame
                    blobRoot.Velocity = Vector3.zero
                    
                    pcall(function()
                        if CG and R_Det then CG:FireServer(R_Det, tRoot, R_Weld) end
                        GE.CreateGrabLine:FireServer(tRoot, Vector3.zero, tRoot.Position, false)
                        GE.SetNetworkOwner:FireServer(tRoot, blobRoot.CFrame)
                    end)
                    RunService.Heartbeat:Wait()
                end
                
                blobRoot.CFrame = SavedPos
                blobRoot.Velocity = Vector3.zero
                task.wait(0.05)
            end

            local packetTimer = 0
            
            while kickLoopEnabled do
                if not target or not target.Parent or not target.Character then
                    break
                end

                local tChar = target.Character
                local tRoot = tChar and tChar:FindFirstChild("HumanoidRootPart")
                local tHum = tChar and tChar:FindFirstChild("Humanoid")

                if tRoot and tHum and tHum.Health > 0 and blobRoot then
                    
                    blobRoot.CFrame = SavedPos
                    blobRoot.Velocity = Vector3.zero
                    
                    local lockPos = SavedPos * CFrame.new(0, 23, 0)
                    
                    tRoot.CFrame = lockPos
                    tRoot.Velocity = Vector3.zero
                    tRoot.RotVelocity = Vector3.zero
                    
                    if tick() - packetTimer > 0.05 then
                        packetTimer = tick()
                        pcall(function()
                            tHum.PlatformStand = true
                            tHum.Sit = true
                            
                            GE.SetNetworkOwner:FireServer(tRoot, lockPos)
                            
                            if R_Det then
                                local weld = R_Det:FindFirstChild("RightWeld") or R_Det:FindFirstChildWhichIsA("Weld")
                                if weld then CD:FireServer(weld) end
                            end
                            GE.DestroyGrabLine:FireServer(tRoot)
                            
                            if R_Det then CG:FireServer(R_Det, tRoot, R_Weld) end
                            GE.CreateGrabLine:FireServer(tRoot, Vector3.zero, tRoot.Position, false)
                        end)
                    end
                else
                    blobRoot.CFrame = SavedPos
                    blobRoot.Velocity = Vector3.zero
                end
                
                if not kickLoopEnabled then break end
                RunService.Heartbeat:Wait()
            end
            
            kickLoopEnabled = false
            if Toggles.LoopKickToggle then Toggles.LoopKickToggle:SetValue(false) end
            
            if blobRoot then
                blobRoot.CFrame = SavedPos
                blobRoot.Velocity = Vector3.zero
            end
        end)
    end
})
